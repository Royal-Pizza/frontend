@if (pizza(); as p) {
  <div class="pizza-detail-container">
    <div class="pizza-image">
      @if (p.image) {
        <img [src]="'data:image/png;base64,' + p.image" [alt]="p.namePizza" />
      }
    </div>

    <div class="pizza-info">
      <h2 class="pizza-title">{{ p.namePizza }}</h2>

      <div class="pizza-prices">
        <h3>Tailles et prix :</h3>
        <ul class="price-list">
          @for (dico of p.pricePizza | keyvalue; track dico.key) {
            <li>
              Taille {{ dico.key }} : {{ dico.value | currency: 'EUR' }}

              @if (isConnected()) {
                <button
                  class="add-to-cart-btn"
                  (click)="addToBasket(p.namePizza, dico.key, dico.value)"
                >
                  Ajouter au panier
                </button>
              }
            </li>
          }
        </ul>
      </div>

      <div class="pizza-ingredients">
        <h3>Ingrédients :</h3>
        <p>{{ p.ingredients.join(', ') }}</p>
      </div>
    </div>
  </div>
} @else {
  <div class="loading">
    <p>Problème de chargement des informations de la pizza.</p>
  </div>
}
