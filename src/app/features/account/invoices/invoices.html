<div class="invoices-container flex-center">
  <h2>Mes Factures</h2>

  @if (invoices().length > 0) {
    <table class="invoices-table">
      <thead>
        <tr>
          <th>Num√©ro de facture</th>
          <th>Date de commande</th>
          <th>Montant total (‚Ç¨)</th>
          <th>PDF</th>
        </tr>
      </thead>
      <tbody>
        @for (invoice of invoices(); track invoice.idInvoice) {
          <tr>
            <td>#{{ invoice.idInvoice }}</td>
            <td>{{ invoice.date | date: 'dd/MM/yyyy' }} √† {{ invoice.date | date: 'HH:mm' }}</td>
            <td>{{ invoice.totalAmount | number: '1.2-2' }} ‚Ç¨</td>
            <td>
              <button class="btn download-btn" (click)="downloadPDF(invoice)">
                üìÑ T√©l√©charger
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  }

  <div class="info-messages">
    @if (invoices().length === 0 && !err()) {
      <p class="empty-msg">Aucune facture disponible pour le moment.</p>
    }

    @if (err()) {
      <p class="error-message">‚ùå {{ err() }}</p>
    }
  </div>
</div>
